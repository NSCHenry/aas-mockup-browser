<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AAS - Executive Overview - Dashboard Layout</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #1a1d2e;
      color: #e8eaed;
      padding: 20px;
      min-width: 1024px;
    }

    .dashboard-header {
      margin-bottom: 30px;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #9aa0a6;
      font-size: 14px;
    }

    .kpi-bar {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 30px;
      max-width: 1800px;
    }

    .dashboard-charts {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      max-width: 1800px;
    }

    .tile {
      background: linear-gradient(145deg, #252940 0%, #2d3348 100%);
      border-radius: 12px;
      padding: 28px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .tile-title {
      font-size: 13px;
      margin-bottom: 12px;
      color: #9aa0a6;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .kpi-value {
      font-size: 52px;
      font-weight: 700;
      line-height: 1;
      margin-bottom: 12px;
    }

    .kpi-label {
      font-size: 14px;
      color: #9aa0a6;
    }

    .kpi-change {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 12px;
    }

    .kpi-change.positive {
      background: rgba(74, 222, 128, 0.15);
      color: #4ade80;
    }

    .kpi-change.warning {
      background: rgba(251, 191, 36, 0.15);
      color: #fbbf24;
    }

    .chart-container {
      position: relative;
      height: 280px;
      margin-top: 20px;
    }

    .tile-chart {
      min-height: 320px;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 12px;
    }

    .status-badge.success {
      background: rgba(74, 222, 128, 0.15);
      color: #4ade80;
    }

    .status-badge.warning {
      background: rgba(251, 191, 36, 0.15);
      color: #fbbf24;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: currentColor;
    }

    .value-green { color: #4ade80; }
    .value-yellow { color: #fbbf24; }
    .value-blue { color: #3b82f6; }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .chart-title {
      font-size: 18px;
      font-weight: 600;
      color: #e8eaed;
    }

    .chart-stat {
      font-size: 24px;
      font-weight: 700;
      color: #3b82f6;
    }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <h1>Executive Overview - Dashboard Layout</h1>
    <div class="subtitle">AAS Dashboard • November 2025</div>
  </div>

  <!-- Top KPI Bar -->
  <div class="kpi-bar">
    <div class="tile">
      <div class="tile-title">Revenue Growth</div>
      <div class="kpi-value value-green">+23.4%</div>
      <div class="kpi-label">YoY • $28.0M TTM</div>
      <div class="kpi-change positive">↑ +$5.2M vs LY</div>
    </div>

    <div class="tile">
      <div class="tile-title">Contract Renewal Rate</div>
      <div class="kpi-value value-green">96%</div>
      <div class="kpi-label">29 Active Contracts</div>
      <div class="status-badge success">
        <div class="status-dot"></div>
        Above Target
      </div>
    </div>

    <div class="tile">
      <div class="tile-title">Provider Retention</div>
      <div class="kpi-value value-green">91.2%</div>
      <div class="kpi-label">12-Month Rolling</div>
      <div class="kpi-change positive">↑ +1.7pp vs LY</div>
    </div>

    <div class="tile">
      <div class="tile-title">On-Time Coverage</div>
      <div class="kpi-value value-yellow">98.7%</div>
      <div class="kpi-label">Last 30 Days</div>
      <div class="status-badge warning">
        <div class="status-dot"></div>
        Near Target
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="dashboard-charts">
    <!-- Margin Performance -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Margin Performance</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">Gross & EBITDA Margins by Geography</div>
        </div>
        <div class="chart-stat">16.5%</div>
      </div>
      <div class="chart-container">
        <canvas id="margin-performance"></canvas>
      </div>
    </div>

    <!-- Sales Pipeline -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Sales Pipeline</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">30 Opportunities • 4 Stages</div>
        </div>
        <div class="chart-stat">$17.6M</div>
      </div>
      <div class="chart-container">
        <canvas id="pipeline-funnel"></canvas>
      </div>
    </div>

    <!-- New ASCs & Growth -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Contract Expansion</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">New ASCs Added by Quarter</div>
        </div>
        <div class="chart-stat">8 YTD</div>
      </div>
      <div class="chart-container">
        <canvas id="asc-growth"></canvas>
      </div>
    </div>

    <!-- Collection Performance -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Collection Performance</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">Net Collection Rate vs Target</div>
        </div>
        <div class="chart-stat value-yellow">94.8%</div>
      </div>
      <div class="chart-container">
        <canvas id="collection-rate"></canvas>
      </div>
    </div>

    <!-- Provider Retention Trend -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Provider Retention Trend</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">MDAs & CRNAs • 12-Month Rolling</div>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="retention-trend"></canvas>
      </div>
    </div>

    <!-- Administrator Satisfaction -->
    <div class="tile tile-chart">
      <div class="chart-header">
        <div>
          <div class="chart-title">Client Satisfaction</div>
          <div class="tile-title" style="margin: 4px 0 0 0;">Administrator Scores by Management Group</div>
        </div>
        <div class="chart-stat value-green">8.7</div>
      </div>
      <div class="chart-container">
        <canvas id="satisfaction-scores"></canvas>
      </div>
    </div>
  </div>

  <script>
    const chartDefaults = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          labels: {
            color: '#e8eaed',
            font: { family: '-apple-system, BlinkMacSystemFont, Segoe UI, Roboto', size: 12 }
          }
        },
        tooltip: {
          backgroundColor: 'rgba(37, 41, 64, 0.95)',
          titleColor: '#e8eaed',
          bodyColor: '#9aa0a6',
          borderColor: '#3a3f5c',
          borderWidth: 1
        }
      }
    };

    // Margin Performance
    new Chart(document.getElementById('margin-performance'), {
      type: 'bar',
      data: {
        labels: ['Michigan', 'Indiana', 'Blended'],
        datasets: [
          {
            label: 'Gross Margin %',
            data: [13.8, 18.5, 16.5],
            backgroundColor: '#3b82f6'
          },
          {
            label: 'EBITDA Margin %',
            data: [12.1, 16.8, 15.2],
            backgroundColor: '#10b981'
          }
        ]
      },
      options: {
        ...chartDefaults,
        scales: {
          x: { grid: { display: false }, ticks: { color: '#9aa0a6', font: { size: 12 } } },
          y: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6', callback: value => value + '%' },
            max: 20
          }
        }
      }
    });

    // Pipeline Funnel
    new Chart(document.getElementById('pipeline-funnel'), {
      type: 'bar',
      data: {
        labels: ['Awareness\n15 opportunities', 'Interest\n8 opportunities', 'Action\n5 opportunities', 'Decision\n2 opportunities'],
        datasets: [{
          label: 'Value ($M)',
          data: [8.2, 4.5, 3.1, 1.8],
          backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ec4899']
        }]
      },
      options: {
        ...chartDefaults,
        indexAxis: 'y',
        plugins: {
          legend: { display: false },
          tooltip: {
            ...chartDefaults.plugins.tooltip,
            callbacks: {
              label: context => '$' + context.parsed.x + 'M'
            }
          }
        },
        scales: {
          x: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6', callback: value => '$' + value + 'M' }
          },
          y: { grid: { display: false }, ticks: { color: '#9aa0a6', font: { size: 11 } } }
        }
      }
    });

    // ASC Growth
    new Chart(document.getElementById('asc-growth'), {
      type: 'bar',
      data: {
        labels: ['Q1 2025', 'Q2 2025', 'Q3 2025', 'Q4 2025 (Proj)'],
        datasets: [{
          label: 'New ASCs',
          data: [2, 1, 3, 2],
          backgroundColor: '#3b82f6'
        }]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { display: false }, ticks: { color: '#9aa0a6' } },
          y: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6', stepSize: 1 },
            max: 4
          }
        }
      }
    });

    // Collection Rate
    new Chart(document.getElementById('collection-rate'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'],
        datasets: [
          {
            label: 'Net Collection %',
            data: [93.5, 93.8, 94.0, 94.2, 94.5, 94.7, 94.8, 94.8, 94.9, 94.8, 94.8],
            borderColor: '#fbbf24',
            backgroundColor: 'rgba(251, 191, 36, 0.1)',
            fill: true,
            tension: 0.4,
            borderWidth: 3
          },
          {
            label: 'Target 95%',
            data: [95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95],
            borderColor: '#4ade80',
            borderDash: [5, 5],
            borderWidth: 2,
            pointRadius: 0
          }
        ]
      },
      options: {
        ...chartDefaults,
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6' } },
          y: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6', callback: value => value + '%' },
            min: 90,
            max: 100
          }
        }
      }
    });

    // Retention Trend
    new Chart(document.getElementById('retention-trend'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'],
        datasets: [
          {
            label: 'CRNAs',
            data: [90.5, 90.8, 91.2, 91.5, 91.8, 92.0, 92.0, 92.1, 92.1, 92.1, 92.1],
            borderColor: '#10b981',
            backgroundColor: 'rgba(16, 185, 129, 0.1)',
            fill: true,
            tension: 0.4,
            borderWidth: 3
          },
          {
            label: 'MDAs',
            data: [87.5, 87.8, 88.0, 88.2, 88.5, 88.5, 88.4, 88.5, 88.5, 88.5, 88.5],
            borderColor: '#3b82f6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            borderWidth: 3
          }
        ]
      },
      options: {
        ...chartDefaults,
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6' } },
          y: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6', callback: value => value + '%' },
            min: 85,
            max: 95
          }
        }
      }
    });

    // Satisfaction Scores
    new Chart(document.getElementById('satisfaction-scores'), {
      type: 'bar',
      data: {
        labels: ['IU Health\n(7 ASCs)', 'BNJ\n(4 ASCs)', 'Corewell\n(5 ASCs)', 'Others\n(10 ASCs)', 'Solaris\n(3 ASCs)'],
        datasets: [{
          label: 'Avg Score (out of 10)',
          data: [8.9, 8.5, 8.3, 8.6, 7.9],
          backgroundColor: ['#10b981', '#4ade80', '#4ade80', '#4ade80', '#fbbf24']
        }]
      },
      options: {
        ...chartDefaults,
        indexAxis: 'y',
        plugins: { legend: { display: false } },
        scales: {
          x: {
            grid: { color: 'rgba(255, 255, 255, 0.05)' },
            ticks: { color: '#9aa0a6' },
            min: 0,
            max: 10
          },
          y: { grid: { display: false }, ticks: { color: '#9aa0a6', font: { size: 11 } } }
        }
      }
    });
  </script>
</body>
</html>
