<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AAS - Executive Overview - Grid Layout</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #1a1d2e;
      color: #e8eaed;
      padding: 20px;
      min-width: 1024px;
    }

    .dashboard-header {
      margin-bottom: 30px;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #9aa0a6;
      font-size: 14px;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      max-width: 1800px;
    }

    .tile {
      background: linear-gradient(145deg, #252940 0%, #2d3348 100%);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .tile-title {
      font-size: 14px;
      margin-bottom: 16px;
      color: #9aa0a6;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .metric-value {
      font-size: 42px;
      font-weight: 700;
      line-height: 1;
      margin-bottom: 8px;
    }

    .metric-label {
      font-size: 12px;
      color: #9aa0a6;
    }

    .metric-change {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      margin-top: 8px;
    }

    .metric-change.positive {
      background: rgba(74, 222, 128, 0.15);
      color: #4ade80;
    }

    .metric-change.negative {
      background: rgba(255, 107, 107, 0.15);
      color: #ff6b6b;
    }

    .chart-container {
      position: relative;
      height: 180px;
      margin-top: 16px;
    }

    .chart-container-small {
      position: relative;
      height: 80px;
      margin-top: 12px;
    }

    .tile-wide {
      grid-column: span 2;
    }

    .tile-tall {
      grid-row: span 2;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 12px;
      font-size: 12px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .status-dot.green { background: #4ade80; }
    .status-dot.yellow { background: #fbbf24; }
    .status-dot.red { background: #ff6b6b; }

    .value-green { color: #4ade80; }
    .value-yellow { color: #fbbf24; }
    .value-red { color: #ff6b6b; }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <h1>Executive Overview - Information Dense Grid</h1>
    <div class="subtitle">AAS Dashboard • November 2025</div>
  </div>

  <div class="dashboard-grid">
    <!-- Revenue Growth -->
    <div class="tile">
      <div class="tile-title">Revenue Growth (YoY)</div>
      <div class="metric-value value-green">+23.4%</div>
      <div class="metric-label">$28.0M TTM</div>
      <div class="chart-container-small">
        <canvas id="revenue-sparkline"></canvas>
      </div>
    </div>

    <!-- Gross Margin -->
    <div class="tile">
      <div class="tile-title">Gross Margin %</div>
      <div class="metric-value">16.5%</div>
      <div class="metric-label">Blended</div>
      <div class="chart-container-small">
        <canvas id="margin-chart"></canvas>
      </div>
      <div class="metric-label" style="margin-top: 8px; font-size: 11px;">
        MI: 13.8% • IN: 18.5%
      </div>
    </div>

    <!-- EBITDA Margin -->
    <div class="tile">
      <div class="tile-title">EBITDA Margin %</div>
      <div class="metric-value value-yellow">15.2%</div>
      <div class="metric-label">Target: 18%</div>
      <div class="metric-change negative">-2.8pp vs Target</div>
    </div>

    <!-- Contract Renewal Rate -->
    <div class="tile">
      <div class="tile-title">Contract Renewal Rate</div>
      <div class="metric-value value-green">96%</div>
      <div class="metric-label">29 Active Contracts</div>
      <div class="status-indicator">
        <div class="status-dot green"></div>
        <span>Above Target (95%)</span>
      </div>
    </div>

    <!-- On-Time Coverage -->
    <div class="tile">
      <div class="tile-title">On-Time Coverage %</div>
      <div class="metric-value value-yellow">98.7%</div>
      <div class="metric-label">Last 30 Days</div>
      <div class="chart-container">
        <canvas id="coverage-gauge"></canvas>
      </div>
    </div>

    <!-- Provider Retention -->
    <div class="tile">
      <div class="tile-title">Provider Retention Rate</div>
      <div class="metric-value value-green">91.2%</div>
      <div class="metric-label">12-Month Rolling</div>
      <div class="chart-container">
        <canvas id="retention-trend"></canvas>
      </div>
    </div>

    <!-- New ASCs Added -->
    <div class="tile">
      <div class="tile-title">New ASCs Added</div>
      <div class="metric-value">8</div>
      <div class="metric-label">2025 YTD</div>
      <div class="chart-container">
        <canvas id="asc-bars"></canvas>
      </div>
    </div>

    <!-- Net Collection Rate -->
    <div class="tile">
      <div class="tile-title">Net Collection Rate</div>
      <div class="metric-value value-yellow">94.8%</div>
      <div class="metric-label">Target: 95%+</div>
      <div class="chart-container">
        <canvas id="collection-trend"></canvas>
      </div>
    </div>

    <!-- Pipeline Value -->
    <div class="tile tile-wide">
      <div class="tile-title">Sales Pipeline</div>
      <div style="display: flex; gap: 32px; margin-bottom: 16px;">
        <div>
          <div class="metric-value" style="font-size: 32px;">$17.6M</div>
          <div class="metric-label">Weighted</div>
        </div>
        <div>
          <div class="metric-value" style="font-size: 32px; color: #9aa0a6;">$22.4M</div>
          <div class="metric-label">Unweighted</div>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="pipeline-funnel"></canvas>
      </div>
    </div>

    <!-- Admin Satisfaction -->
    <div class="tile tile-wide">
      <div class="tile-title">Administrator Satisfaction Scores</div>
      <div class="metric-value" style="font-size: 32px;">8.7</div>
      <div class="metric-label">Average across 29 ASCs</div>
      <div class="chart-container">
        <canvas id="satisfaction-heatmap"></canvas>
      </div>
    </div>
  </div>

  <script>
    const chartDefaults = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          labels: {
            color: '#e8eaed',
            font: { family: '-apple-system, BlinkMacSystemFont, Segoe UI, Roboto' }
          }
        },
        tooltip: {
          backgroundColor: 'rgba(37, 41, 64, 0.95)',
          titleColor: '#e8eaed',
          bodyColor: '#9aa0a6',
          borderColor: '#3a3f5c',
          borderWidth: 1
        }
      }
    };

    // Revenue Sparkline
    new Chart(document.getElementById('revenue-sparkline'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'],
        datasets: [{
          data: [1.8, 1.9, 2.1, 2.3, 2.2, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9],
          borderColor: '#4ade80',
          backgroundColor: 'rgba(74, 222, 128, 0.1)',
          fill: true,
          tension: 0.4,
          borderWidth: 2,
          pointRadius: 0
        }]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false }, tooltip: { enabled: false } },
        scales: {
          x: { display: false },
          y: { display: false }
        }
      }
    });

    // Margin Chart
    new Chart(document.getElementById('margin-chart'), {
      type: 'bar',
      data: {
        labels: ['MI', 'IN'],
        datasets: [{
          data: [13.8, 18.5],
          backgroundColor: ['#3b82f6', '#10b981']
        }]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { display: false }, ticks: { color: '#9aa0a6' } },
          y: { display: false }
        }
      }
    });

    // Coverage Gauge
    new Chart(document.getElementById('coverage-gauge'), {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [98.7, 1.3],
          backgroundColor: ['#fbbf24', '#3a3f5c'],
          borderWidth: 0
        }]
      },
      options: {
        ...chartDefaults,
        cutout: '75%',
        plugins: {
          legend: { display: false },
          tooltip: { enabled: false }
        }
      }
    });

    // Retention Trend
    new Chart(document.getElementById('retention-trend'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'],
        datasets: [{
          label: 'Retention %',
          data: [89.5, 89.8, 90.2, 90.5, 90.8, 91.0, 91.1, 91.0, 91.2, 91.2, 91.2],
          borderColor: '#4ade80',
          backgroundColor: 'rgba(74, 222, 128, 0.1)',
          fill: true,
          tension: 0.4,
          borderWidth: 2
        }]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6', font: { size: 10 } } },
          y: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6' }, min: 85, max: 95 }
        }
      }
    });

    // ASC Bars
    new Chart(document.getElementById('asc-bars'), {
      type: 'bar',
      data: {
        labels: ['Q1', 'Q2', 'Q3', 'Q4'],
        datasets: [{
          data: [2, 1, 3, 2],
          backgroundColor: '#3b82f6'
        }]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { display: false }, ticks: { color: '#9aa0a6' } },
          y: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6', stepSize: 1 } }
        }
      }
    });

    // Collection Trend
    new Chart(document.getElementById('collection-trend'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'],
        datasets: [
          {
            label: 'Collection Rate',
            data: [93.5, 93.8, 94.0, 94.2, 94.5, 94.7, 94.8, 94.8, 94.9, 94.8, 94.8],
            borderColor: '#fbbf24',
            backgroundColor: 'rgba(251, 191, 36, 0.1)',
            fill: true,
            tension: 0.4,
            borderWidth: 2
          },
          {
            label: 'Target',
            data: [95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95],
            borderColor: '#4ade80',
            borderDash: [5, 5],
            borderWidth: 2,
            pointRadius: 0
          }
        ]
      },
      options: {
        ...chartDefaults,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6', font: { size: 10 } } },
          y: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6' }, min: 90, max: 100 }
        }
      }
    });

    // Pipeline Funnel
    new Chart(document.getElementById('pipeline-funnel'), {
      type: 'bar',
      data: {
        labels: ['Awareness\n15 opps', 'Interest\n8 opps', 'Action\n5 opps', 'Decision\n2 opps'],
        datasets: [{
          label: 'Weighted Value ($M)',
          data: [8.2, 4.5, 3.1, 1.8],
          backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ec4899']
        }]
      },
      options: {
        ...chartDefaults,
        indexAxis: 'y',
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6', callback: value => '$' + value + 'M' } },
          y: { grid: { display: false }, ticks: { color: '#9aa0a6', font: { size: 11 } } }
        }
      }
    });

    // Satisfaction Heatmap (simplified as horizontal bars)
    new Chart(document.getElementById('satisfaction-heatmap'), {
      type: 'bar',
      data: {
        labels: ['IU Health (7)', 'BNJ (4)', 'Solaris (3)', 'Corewell (5)', 'Others (10)'],
        datasets: [{
          label: 'Avg Score',
          data: [8.9, 8.5, 7.9, 8.3, 8.6],
          backgroundColor: ['#10b981', '#4ade80', '#fbbf24', '#10b981', '#4ade80']
        }]
      },
      options: {
        ...chartDefaults,
        indexAxis: 'y',
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9aa0a6' }, min: 0, max: 10 },
          y: { grid: { display: false }, ticks: { color: '#9aa0a6', font: { size: 11 } } }
        }
      }
    });
  </script>
</body>
</html>
